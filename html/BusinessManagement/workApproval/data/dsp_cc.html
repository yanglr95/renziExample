
<div class="divtop">
    <div class="divlf">
        <a class="primary-btn" onclick="alltg()">批量通过</a>
        <a class="border-btn">批量驳回</a>
        <span class="spbtn"> <i class="ai-tip">i</i> 已选择2项</span>
    </div>
    <div class="divrg">
        <form id="" class="formclass">
            <label>申请人：</label>
            <input id="dspCcSqr">
            <label>申请时间：</label>
            <input id="startTime" >
            至
            <input id="endTime" >
        </form>
        <a class="primary-btn" onclick="dspccsear(88)" >查询</a>
    </div>
</div>
<div>
    <div id="dspccTable"></div>
</div>
<script type="text/javascript">
$(function(){
    //
    $('#dspCcSqr').textbox({
        prompt: '请输入关键字',
        height: 36
    })
    $('#startTime').datebox({
        editable: false,
        height: 36
    })
    $('#endTime').datebox({
        editable: false,
        height: 36
    })

    var data= [
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        },
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        },
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        },
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        },
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        },
        {
            num:'20190382',
            name:'月度',
            date:'2019年11月',
            total:'130,000,000',
            endTime:'2019.06.03',
            state:'无',
            cfdate: '2019.06.03',
            fhdate: '2019.06.03',
            ccdate: '2019.06.03',
            reason: '无',
            adress: '详情',
            file: '无'
        }
    ]
    $('#dspccTable').datagrid({
        height: 360,
        width: '100%',
        fitColumns:true,
        //pagination: true,
        striped:true,
        data,           
        columns:[[
            {field : 'checkbox',checkbox : "true",halign : 'center',align : 'center',width : '5%'},
            {field:'index',title:'序号',width:'5%',halign:'center',align:'center',formatter(value,row,index){
                return `<span>${index+1}</span>`
            }},
            {field:'num',title:'申请单号',width:'5%',halign:'center',align:'center',formatter(value,row,index){
                return `<span style="color:rgb(0,160,159);cursor:pointer">${row.num}</span>`
            }},
            {field:'name',title:'申请时间',width:'10%',halign:'center',align:'center'},
            {field:'date',title:'人员编码',width:'10%',halign:'center',align:'center'},
            {field:'total',title:'申请人',width:'5%',halign:'center',align:'center'},
            {field:'endTime',title:'部门',width:'5%',halign:'center',align:'center'},
            {field:'state',title:'岗位',width:'5%',halign:'center',align:'center',formatter(value,row,index){return value;}},
            {field:'cfdate',title:'出发日期',width:'5%',halign:'center',align:'center'},
            {field:'fhdate',title:'返回日期',width:'5%',halign:'center',align:'center'},
            {field:'ccdate',title:'出差时长（天）',width:'5%',halign:'center',align:'center'},
            {field:'reason',title:'事由',width:'10%',halign:'center',align:'center'},
            {field:'adress',title:'行程',width:'10%',halign:'center',align:'center',formatter(value,row,index){
                return "<span id='adxcress' style='color: rgb(0,160,159)'>"+value+"</span>"
            }},
            {field:'file',title:'附件',width:'5%',halign:'center',align:'center'},
            {field:'handle',title:'操作',width:'10%',halign:'center',align:'center',formatter(value,row,index){
                return "<span onclick='tableSubmit(${row.id})' style='color:rgb(24,98,223);cursor:pointer'>通过</span> <span onclick='tableSubmit(${row.id})' style='color:rgb(24,98,223);cursor:pointer'>驳回</span>"
            }}
        ]]
    });
    //grid_page('dspccTable',10)

    $('#adxcress').tooltip({
        position: 'top',
        content: '<div class="tipdiv"><div class="tiptitle">行程详情</div><div class="tipcontent"><div class="inldiv"><p class="inlinep">第一程</p><p class="inlinep"><span class="fl"><i class="icon"></i>北京</span><span class="iconcenter"></span><span class="fr"><i class="icon"></i>上海</span></p><p class="inlinep"><span class="fr">2019-04-23</span></p></div></div><div class="tipcontent"><div class="inldiv"><p class="inlinep">第一程</p><p class="inlinep"><span class="fl"><i class="icon"></i>北京</span><span class="iconcenterbottom"></span><span class="fr"><i class="icon"></i>上海</span></p><p class="inlinep"><span class="fr">2019-4-23</span></p></div></div></div>'
    })

})

function dspccsear(num){
    console.log(num)
    id = num;
    showPanalAlert('100%', '100%', "#alert","","alert/alert.html");
}

function alltg(){
    showPanalAlert(400, 300, "#alert","查看","alert/alert.html");
}

</script>

