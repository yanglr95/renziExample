
    <div class="xie-tong" style="font-size:0; background: #eee;">
        <div id="main-portal" >
            <div style="width: 75.5%;position: relative;margin-right:0.5%;">
                <div class="commontitle">
                    <span>待办工作</span>
                    <img class="icon_data_r" src="assets/icon/more.png">
                </div>
                <div style="height: 220px; font-size:0">
                    <div class="work_card">
                        <div class="icon_work_area"><span>休假</span></div>
                        <div class="work_title">李二珠出差申请</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                    <div class="work_card">
                        <div class="icon_work_area"><span>出差</span></div>
                        <div class="work_title">王虎出差申请</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                    <div class="work_card">
                        <div class="icon_work_area"><span>请假</span></div>
                        <div class="work_title">王二休假申请</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                    <div class="work_card">
                        <div class="icon_work_area"><span>请假</span></div>
                        <div class="work_title">李呵呵产假休假申请</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                    <div class="work_card">
                        <div class="icon_work_area"><span>加班</span></div>
                        <div class="work_title">李贺加班申请</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                    <div class="work_card">
                        <div class="icon_work_area"><span>奖金</span></div>
                        <div class="work_title">奖金分配</div>
                        <div class="work_time">提交日期：2019-11-22</div>
                        <div class="work_name">奖金名称：<b>月度奖</b></div>
                    </div>
                </div>
            </div>
            <div style="width: 24%;position:relative">
                <div class="commontitle">
                    <span>常用功能</span>
                    <img class="icon_data_r" src="assets/icon/edit.png" id="fun">
                </div>
                <div class="fnc_box" style="height: 185px;position: relative;">
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_1.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">人员信息</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_2.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">共享字段</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_3.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">报表申请</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_4.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">考勤审批</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_6.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">接口监控</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_5.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">报表管理</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_7.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">奖金汇总</div>
                    </div>
                    <div class="fnc_card">
                        <img src="assets/home/icon_fnc_8.png" class="fnc_card_icon">
                        <div class="fnc_name" style="margin-top:6px;">奖金下发</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="main-portal2">
            <div style="width: 25%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>学历分布</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="education">
                </div>
                <div class="education-legend chart-legend">
                    <div class="chart-legend-item">
                        <span class='chart-legend-icon chart-legend-icon1'></span>
                        <span class='chart-legend-title'>研究生及以上</span>
                        <span class="chart-legend-num chart-legend-peo">70</span>
                        <span class="chart-legend-unit">人</span>
                        <span class="chart-legend-num chart-legend-scale">39</span>
                        <span class="chart-legend-unit">%</span>
                    </div>
                    <div class="chart-legend-item">
                        <span class='chart-legend-icon chart-legend-icon2'></span>
                        <span class='chart-legend-title'>本科</span>
                        <span class="chart-legend-num chart-legend-peo">67</span>
                        <span class="chart-legend-unit">人</span>
                        <span class="chart-legend-num chart-legend-scale">37</span>
                        <span class="chart-legend-unit">%</span>
                    </div>
                    <div class="chart-legend-item">
                        <span class='chart-legend-icon chart-legend-icon3'></span>
                        <span class='chart-legend-title'>大专</span>
                        <span class="chart-legend-num chart-legend-peo">16</span>
                        <span class="chart-legend-unit">人</span>
                        <span class="chart-legend-num chart-legend-scale">9</span>
                        <span class="chart-legend-unit">%</span>
                    </div>
                    <div class="chart-legend-item">
                        <span class='chart-legend-icon chart-legend-icon4'></span>
                        <span class='chart-legend-title'>中专及以下</span>
                        <span class="chart-legend-num chart-legend-peo">27</span>
                        <span class="chart-legend-unit">人</span>
                        <span class="chart-legend-num chart-legend-scale">15</span>
                        <span class="chart-legend-unit">%</span>
                    </div>
                    <div class="chart-legend-item" style="display: none;">
                        <span class='chart-legend-icon chart-legend-icon4'></span>
                        <span class='chart-legend-title'>其他</span>
                        <span class="chart-legend-num chart-legend-peo">27</span>
                        <span class="chart-legend-unit">人</span>
                        <span class="chart-legend-num chart-legend-scale">15</span>
                        <span class="chart-legend-unit">%</span>
                    </div>
                </div>
                <div id="chart3-container" style="height:180px;width: 300px;padding-left: 5px;"></div>
            </div>
            <div style="width: 24.5%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>技能等级</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="skill">
                </div>  
                <div id="chart4-container" style="height:180px;width: 310px;"></div>
            </div>
            <div style="width: 25%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>在岗年限</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="service">
                    <div class="serving-legend chart-legend serving-legend2 chart-legend2">
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon5'></span>
                            <span class='chart-legend-title'>1年及以内</span>
                            <span class="chart-legend-num chart-legend-peo">70</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">39</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon6'></span>
                            <span class='chart-legend-title'>1-3年</span>
                            <span class="chart-legend-num chart-legend-peo">67</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">37</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon7'></span>
                            <span class='chart-legend-title'>3-6年</span>
                            <span class="chart-legend-num chart-legend-peo">16</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">9</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon8'></span>
                            <span class='chart-legend-title'>6-8年</span>
                            <span class="chart-legend-num chart-legend-peo">27</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">15</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon9'></span>
                            <span class='chart-legend-title'>8年及以上</span>
                            <span class="chart-legend-num chart-legend-peo">27</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">15</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                    </div>
                </div>
                <div id="chart7-container" style="height:180px;width: 152px;"></div>
            </div>
            <div style="width: 24%;padding:10px">
                <div class="commontitle">
                    <span>通讯录</span>
                </div>
                <div class="mail-list" style="position: relative;">
                    <img src="assets/home/icon_search2.png" class="icon_search3">
                    <input class="book_search e_input" placeholder="请输入姓名、员工号或部门">
                    <div class="search_button">通讯录</div>
                    <div class="search-result"></div>
                </div>
                <div style="margin-top: 15px;">
                    <div>常用联系人：</div>
                    <div class="user-link-box"></div>
                </div>
            </div>
        </div>
        <div id="main-portal3">
            <div style="width: 25%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>性别分布</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="sexdiv">
                </div>
                    <div class="sexdivclass">
                        <div class="sexdiv">
                            <div class="commonsex"></div>
                            <span>男性</span>
                        </div>
                        <div class="sexdiv fr">
                            <div class="commonsex commondiff"></div>
                            <span>女性</span>
                        </div>
                    </div>
                    <div id="chart5-container" style="height:60px;width: 99%;"></div>
                    <div class="chart5-bottom">
                        <div class="fl">
                            <p class="pleav">
                                <i class='man-icon'></i><label>人数</label><span class="grade-male-num">110人</span>
                            </p>
                            <p class="p2">
                                <label>占比</label><span class="grade-male-scale">58%</span>
                            </p>
                        </div>
                        <dvi class="fr">
                            <p class="pleav">
                                <i class='woman-icon'></i><label>人数</label><span class="grade-female-num">70人</span>
                            </p>
                            <p class="p2">
                                <label>占比</label><span class="grade-female-scale">42%</span>
                            </p>
                        </dvi>
                    </div>
            </div>
            <div style="width: 24.5%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>年龄分布</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="agediv">
                </div>
                <div class="age-legend chart-legend">
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon1'></span>
                            <span class='chart-legend-title'>45岁及以下</span>
                            <span class="chart-legend-num chart-legend-peo">70</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">39</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon2'></span>
                            <span class='chart-legend-title'>46-50岁</span>
                            <span class="chart-legend-num chart-legend-peo">67</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">37</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon3'></span>
                            <span class='chart-legend-title'>51-55岁</span>
                            <span class="chart-legend-num chart-legend-peo">16</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">9</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon4'></span>
                            <span class='chart-legend-title'>56岁及以上</span>
                            <span class="chart-legend-num chart-legend-peo">27</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">15</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                        <div class="chart-legend-item">
                            <span class='chart-legend-icon chart-legend-icon4'></span>
                            <span class='chart-legend-title'>56岁及以上</span>
                            <span class="chart-legend-num chart-legend-peo">27</span>
                            <span class="chart-legend-unit">人</span>
                            <span class="chart-legend-num chart-legend-scale">15</span>
                            <span class="chart-legend-unit">%</span>
                        </div>
                    </div>
                <div id="chart8-container" style="height:180px;"></div>
            </div>
            <div style="width: 25%;position:relative;margin-right:0.5%">
                <div class="commontitle">
                    <span>职称分布</span>
                    <img class="icon_data_r" src="assets/home/icon_data_r.png" id="distribution">
                </div>
                <div id="chart6-container" style="height:190px;"></div>
            </div>
            <div style="width: 24%;">
                <div title="" style="height: 249px; padding: 10px;text-align: center;">
                   <img class="asst" src="assets/home/asst.png" onclick="qimoChatClick()">  <!--onclick="qimoChatClick()" -->
                </div>
            </div>
        </div>
    </div>
    <script>
        loadResources({
            id: 'js-echarts',
            src: 'easyui/echarts.min.js'
        });

        $(function () {
            
           //弹窗跳转
           //常用功能
           $('#fun').click(function(){
               showPanalAlert(800,600,'#alertplane','常用功能','html/portal/alert/alert1.html')
           })
           //学历分布
           $('#education').click(function(){
               showPanalAlert(1200,600,'#alertplane','学历分布','html/portal/alert/alert2.html')
           })
           //技能等级
           $('#skill').click(function(){
               showPanalAlert(1200,600,'#alertplane','技能等级','html/portal/alert/alert3.html')
           })
           //在岗年限
           $('#service').click(function(){
               showPanalAlert(1200,600,'#alertplane','在岗年限','html/portal/alert/alert4.html')
           })
           //性别分布
           $('#sexdiv').click(function(){
               showPanalAlert(1200,600,'#alertplane','性别分布','html/portal/alert/alert5.html')
           })
           //年龄分布
           $('#agediv').click(function(){
               showPanalAlert(1200,600,'#alertplane','年龄分布','html/portal/alert/alert6.html')
           })
           //职称分布
           $('#distribution').click(function(){
               showPanalAlert(1200,600,'#alertplane','职称分布','html/portal/alert/alert7.html')
           })


            //echarts学历分布
            var myChart3 = echarts.init(document.getElementById('chart3-container'));
            var option3 = {
                
                tooltip: {
                    trigger: 'item',
                    formatter: "{b}: {c} ({d}%)"
                },
                grid:{
                    left:'8%',
                    right:'0',
                    bottom:'1%',
                    containLabel:true
                },
                color: ['#6791e9', '#7cbfff', '#067877','#f8c751', '#fc8f6e'],
                series: [
                    {
                        name: '学历分布',
                        type: 'pie',
                        radius: ['35%', '50%'],
                        center: ['20%', '50%'],
                        // 高亮偏移值
                        hoverOffset: 3,
                        avoidLabelOverlap: false,
                        label: {
                            normal: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                show: false,
                                // borderWidth:3,
                                textStyle: {
                                    fontSize: '30',
                                    fontWeight: 'bold'
                                }
                            }
                        },
                        labelLine: {
                            normal: {
                                show: false
                            }
                        },
                        data: [
                            { value: 33, name: '研究生及以上' },
                            { value: 10, name: '本科' },
                            { value: 23, name: '大专' },
                            { value: 23, name: '中专及以下' },
                            { value: 13, name: '其他' }
                        ]
                    }
                ]
            };
            myChart3.setOption(option3, 'light');

            //职称分布
            var myChart6 = echarts.init(document.getElementById('chart6-container'));
            var option6 = {
                tooltip: {
                    confine: true,
                    enterable: true, //鼠标是否可以移动到tooltip区域内
                },
                grid: {
                    position: 'center',
                },
                radar: {
                    splitNumber: 3,
                    radius: 65,
                    name: {
                        textStyle: {
                            color: '#999999',
                            fontSize:14
                        }
                    },
                    indicator: [
                    {
                        name: '初级',
                        max: 100
                    },
                    {
                        name: '无',
                        max: 100
                    },
                    {
                        name: '正高级',
                        max: 100
                    },
                    {
                        name: '副高级',
                        max: 100
                    },
                    {
                        name: '中级',
                        max: 100
                    }
                    ],
                    splitArea: {
                        show: false,
                        areaStyle: {
                            color: 'rgba(255,0,0)', // 图表背景的颜色
                        },
                    },
                    splitLine: { // (这里是指所有圆环)坐标轴在 grid 区域中的分隔线。
                        lineStyle: {
                            type: 'solid',
                            color: '#ccc', // 分隔线颜色
                            width: 1, // 分隔线线宽
                        }
                    },
                },
                series: [{
                    name: '职称分布',
                    type: 'radar',
                    symbol: 'none',
                    // areaStyle: {normal: {}},
                    data: [{
                        value: [80, 60, 60, 75, 81],
                        areaStyle: {
                            normal:{
                                color: 'rgba(6,120,119,0.3)',
                            }
                    },
                    }],
                    lineStyle: {
                        normal: {
                            color: 'rgba(6,120,119,1)'
                        }
                    },
                    
                }]
            };
            myChart6.setOption(option6, true);

            //性别分布
            var myChart5 = echarts.init(document.getElementById('chart5-container'));
            var option5 = {
                legend: {
                    show: false,
                    
                    // x: 'center',
                    // y: 'center',
                    // //top: 70,
                    // itemGap: 40,
                    // //icon: 'circle',
                    // itemWidth: 12
                },
                grid:{
                    left:"0%",
                    width:'100%',
                },
                xAxis: {
                    show: false
                },
                yAxis: {
                    //type: 'category',
                    show: false,
                    inverse: true,
                    data: [''],
                    axisTick: {
                        show: false
                    }
                },
                series: [{
                    type: 'bar',
                    name: '人数4',
                    data: [110],
                    stack: '柱子',
                    // barWidth: '20%',
                    barMaxWidth: '15',
                    color: '#f76f34',
                    itemStyle: {
                        normal: {
                            barBorderRadius: [15, 0, 0, 15],
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgb(0,192,255,0.7)'
                            }, {
                                offset: 1,
                                color: 'rgba(89, 172, 249, 1)'
                            }])
                        }

                    },

                }, {
                    type: 'bar',
                    name: '人数8',
                    data: [70],
                    stack: '柱子',
                    // barWidth: '20%',
                    barMaxWidth: '15',
                    color: '#3393e2',
                    itemStyle: {
                        normal: {
                            barBorderRadius: [0, 15, 15, 0],
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgb(251,171,29,1)'
                            }, {
                                offset: 1,
                                color: 'rgba(251, 193, 96, 1)'
                            }])
                        }

                    },

                },]
            };
            myChart5.setOption(option5, true);

            //技能等级
            var myChart4 = echarts.init(document.getElementById('chart4-container'));
            var option4 = {
                grid: {
                    left: '0%',
                    right: '4%',
                    bottom: '15%',
                    top:'10%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        offset:10,
                        data : ['初级工', '中级工', '技师', '高级工', '高级技师', '无'],
                        axisTick: {
                            show: false
                        },
                        axisLine: {
                            show: false, //  x轴显示还是不显示
                        },
                        axisLabel : {
                            textStyle: {
                                fontSize: 8, 
                                color:'#8F8F9B'
                            }
                        }
                    }
                ],
                yAxis : [
                    {
                        type : 'value',
                        axisLine: {
                        show: false, //  y轴显示还是不显示
                        },
                        axisTick: {
                            show: false
                        },
                        splitLine: {
                            show: true, //背景虚线不显示
                            lineStyle: {
                                color: "#d2d2d2",
                                type:'dotted'
                            }
                        },
                        axisLabel : {
                            textStyle: {
                                fontSize:10, 
                                color:'#8F8F9B'
                            }
                        }
                    }
                ],
                series : [
                    {
                        type:'bar',
                        barWidth: 10,
                        data:[55, 63,42, 57, 65, 79],
                        label: {
                            normal: {
                                show: true,
                                position: 'top',
                                textStyle:{
                                    color: '#1B1B1B',
                                    fontWeight:'bold'
                                }
                            }
                        },
                        itemStyle: {
                            normal: {
                                    barBorderRadius: 5,
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: 'rgba(255,220,29,1)'
                                }, {
                                    offset: 1,
                                    color: 'rgba(247,116,29,1)'
                                }])
                            }
                        }
                    }
                ]
            };
            myChart4.setOption(option4, true);

            //年龄分布
            var myChart8 = echarts.init(document.getElementById('chart8-container'));
            var option8 = {
                tooltip: {
                    trigger: 'item',
                    formatter: "{b}: {c} ({d}%)"
                },
                color: ['#fc8f6e', '#7cbfff', '#f8c751', '#6791e9', "#8d7fec"],
                series: [{
                    type: 'pie',
                    clockwise: false, //饼图的扇区是否是顺时针排布
                    minAngle: 2, //最小的扇区角度（0 ~ 360）
                    radius: ["30%", "50%"],
                    center: ["16%", "50%"],
                    avoidLabelOverlap: false,
                    itemStyle: { //图形样式
                        normal: {
                            borderColor: '#ffffff',
                            borderWidth: 5,
                        },
                    },
                    label: {
                        normal: {
                            show: false
                        }
                    },
                    data: [{
                        name: '一年及以内',
                        value: 18
                    }, {
                        name: '1-3年',
                        value: 16
                    }, {
                        name: '3-6年',
                        value: 15
                    }, {
                        name: '6-8年',
                        value: 14
                    }, {
                        name: '8年及以上',
                        value: 10
                    }]
                }]
            };
            myChart8.setOption(option8, 'light');
            window.addEventListener('resize', function () {myChart8.resize();})

            //任职年限
            var myChart7 = echarts.init(document.getElementById('chart7-container'));
            var option7 = {
                backgroundColor:"#fff",
                color: ["#064AD5", "#51AFFF", "#067877", "#FC6732", "#FF971C"],
                grid: {
                    left: '-75px',
                    top: 50,
                    bottom: 10,
                    right: 10,
                    containLabel: true
                },
                tooltip: {
                    trigger: 'item',
                    formatter: "{b} : {c} ({d}%)"
                },
                // legend: {
                //     type: "scroll",
                //     orient: "vartical",
                //     // x: "right",
                //     top: "center",
                //     right: "15",
                //     // bottom: "0%",
                //     itemWidth: 16,
                //     itemHeight: 8,
                //     itemGap: 16,
                //     textStyle: {
                //         color: '#A3E2F4',
                //         fontSize: 12,
                //         fontWeight: 0
                //     },
                //     data: ['IDS', 'VPN', '交换机', '防火墙', 'WAF', '堡垒机']
                // },
                polar: {},
                angleAxis: {
                    interval: 1,
                    type: 'category',
                    data: [],
                    z: 10,
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: "#fff",
                            width: 1,
                            type: "solid"
                        },
                    },
                    axisLabel: {
                        interval: 0,
                        show: true,
                        color: "#fff",
                        margin: 8,
                        fontSize: 16
                    },
                },
                radiusAxis: {
                    min: 25,
                    max: 130,
                    interval: 18,
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: "#DEE0EA",
                            width: 0,
                            type: "solid"
                        },
                    },
                    axisLabel: {
                        formatter: '',
                        show: false,
                        padding: [0, 0, 20, 0],
                        color: "#0B3E5E",
                        fontSize: 16
                    },
                    splitLine: {
                        lineStyle: {
                            color: "#DEE0EA",
                            width: 1,
                            type: "solid"
                        }
                    }
                },
                calculable: true,
                series: [{
                    type: 'pie',
                    // hoverOffset:13,
                    radius: ["0%", "16%"],
                    backgroundColor:'#fff',
                    hoverAnimation: false,
                    labelLine: {
                        normal: {
                            show: false,
                        },
                        emphasis: {
                            show: false
                        }
                    },
                    data: [{
                        name: '',
                        value: 0,
                        itemStyle: {
                            normal: {
                                color: "#fff",
                                
                            }
                        }
                    }]
                }, 
                // {
                //     type: 'pie',
                //     radius: ["97.5%", "98%"],
                //     hoverAnimation: false,
                //     labelLine: {
                //         normal: {
                //             show: false,
                //             length: 30,
                //             length2: 55
                //         },
                //         emphasis: {
                //             show: false
                //         }
                //     },
                    
                //     name: "",
                //     data: [{
                //         name: '',
                //         value: 0,
                //         itemStyle: {
                //             normal: {
                //                 color: "#DEE0EA"
                //             }
                //         }
                //     }]
                // },
                {
                    stack: 'a',
                    type: 'pie',
                    radius: ['15%', '67%'],
                    roseType: 'area',
                    zlevel:-10,
                    label: {
                        normal: {
                            show: false,
                            formatter: "{c}",
                            textStyle: {
                                fontSize: 12,
                            },
                            itemStyle:{
                                color:'##DEE0EA'
                            },
                            position: 'outside'
                        },
                        emphasis: {
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: true,
                            length: 20,
                            length2: 55
                        },
                        emphasis: {
                            show: false
                        }
                    },
                    itemStyle: { //图形样式
                        normal: {
                            borderColor: '#ffffff',
                            borderWidth: 5,
                        },
                    },
                    data: [{
                            value: 70,
                            name: '一年及以内'
                        },
                        {
                            value: 67,
                            name: '1-3年'
                        },
                        {
                            value: 36,
                            name: '3-6年'
                        },
                        {
                            value: 40,
                            name: '6-8年'
                        },
                        {
                            value: 33,
                            name: '8年及以上'
                        },
                    ]
                } ]
            };
            myChart7.setOption(option7, 'light');
            window.addEventListener('resize', function () {myChart7.resize();})

            //代办
            $('.work_title').click(function(){
                opentab("BusinessManagement/bonusShares/index", "奖金分配", false);
            })
            // $('.work_card').mouseenter(function(){
            //     $('.work-approval').eq($(this).index()).show();
            // })
            // .mouseleave(function(){
            //     $('.work-approval').eq($(this).index()).hide();
            // })
            //通讯录
            $('.mail-list .book_search').keypress(function(e){
                if (e.which == 13) {
                    if (!$(this).val()) {
                        return
                    }
                    mailList($(this).val());
                }
            }).blur(function(){
                $('.search-result').slideUp(200);
                userLinkList();
            }).on('input',function(){
                $('.search-result').slideUp(200);
            })
            //常用联系人
            userLinkList();
            //代办
            homeAgency();
            // echarts
            homeCharts();
            //常用功能查询
            funQuery();
            function homeAgency(){ //代办
                $.ajax({
                    type:'get',
                    url:BASE_URL+'/index/getBacklogInfo',
                    data:{},
                    success:function(data){
                        if(data.resultCode=='200'){
                            // console.log(data,'代办')
                            var workList = data.resultValue.slice(0,4);
                            // $('.work-pass').click(function(){
                            //     workHandle(data.resultValue[$(this).parent().parent().index()].recordId,2);
                            // })
                            // $('.work-reject').click(function(){
                            //     workHandle(data.resultValue[$(this).parent().parent().index()].recordId,9);
                            // })
                            workList.forEach(function(e,i){
                                $('.xie-tong .work_card')
                                .eq(i)
                                .children('.work_title')
                                .text(e.msgTitle)
                                .end()
                                .children('.work_name')
                                .html('奖金名称：<span style="font-weight:bold">'+e.msgContent+'</span>')
                                .end()
                                .children('.work_time')
                                .text('提交日期：'+timeType(e.sendTime))
                                .end()
                                .children('.icon_work_area')
                                .children('span')
                                .text(
                                    '奖金'
                                    // e.msgType=='0301'?'请假':
                                    // e.msgType=='0302'?'休假':
                                    // e.msgType=='0303'?'出差':
                                    // e.msgType=='0304'?'加班':
                                    // e.msgType=='0305'?'奖金':
                                    // e.msgType=='0306'?'外出':
                                    // e.msgType=='0307'?'申请':
                                    // e.msgType=='0308'?'证明':
                                    // e.msgType=='0309'?'产假':
                                    // e.msgType=='0101'||'02'?'休假':''
                                    )
                            })
                            $('.xie-tong .work_card')
                            .eq(4)
                            .children('.work_title')
                            .text('需求收集').off('click')
                            .end()
                            .children('.work_name')
                            .html('需求主题：<span style="font-weight:bold">培训需求</span>')
                            .end()
                            .children('.work_time')
                            // .text('提交日期：'+timeType(e.sendTime))
                            .text('提交日期：'+'2019-12-20')
                            .end()
                            .children('.icon_work_area')
                            .children('span')
                            .text(
                                '需求'
                            )
                            $('.xie-tong .work_card')
                            .eq(5)
                            .children('.work_title').off('click')
                            .text('需求收集')
                            .end()
                            .children('.work_name')
                            .html('需求主题：<span style="font-weight:bold">用人需求</span>')
                            .end()
                            .children('.work_time')
                            // .text('提交日期：'+timeType(e.sendTime))
                            .text('提交日期：'+'2019-12-20')
                            .end()
                            .children('.icon_work_area')
                            .children('span')
                            .text(
                                '需求'
                            )
                        }
                    }
                })
            }
            function workHandle(id,type){ //代办通过驳回
                $.ajax({
                    type:'get',
                    url:BASE_URL+'/index/updateHrPubMessage',
                    data:{
                        token:'',
                        applyType:type,//通过   驳回9
                        recordId:id
                    },
                    success:function(data){
                        if (data.resultValue == 1) {
                            homeAgency()
                        }
                        // console.log(data,'代办通过-驳回')
                    }
                })
            }
            function homeCharts(){  //首页echarts
                $.ajax({
                    type:'get',
                    url:BASE_URL+'/index/statistics',
                    data:{
                        token:'',
                        deptId:'10554186'
                    },
                    success:function(data){
                        console.log(data,'echarts')
                        if (data.resultCode=='200') {
                            var educationSeriesData = [];
                            var educationTotal = null;
                            //学历
                            var education = data.resultValue.education.slice(0,5);
                            //隐藏原有的死数据
                            for(var i = 0;i<4;i++){
                                $('.education-legend .chart-legend-item').eq(i).hide();
                            }
                            $('.education-legend').css({
                                top : education.length==5?'60px':education.length==4?'60px':education.length==3?'88px':education.length==2?'106px':education.length==1?'120px':'72px'
                            })
                            for (var i = 0; i < education.length; i++) {
                                if (education[i].key == '其他') {
                                    continue;
                                }
                                educationSeriesData.push({
                                    value:education[i].value,
                                    name:education[i].key
                                })
                                $('.education-legend .chart-legend-item').eq(i).show()
                                .children('.chart-legend-icon').css({
                                    border:'3px solid '+ option3.color[i]
                                })
                                .end()
                                .children('.chart-legend-title').text(education[i].key)
                                .end()
                                .children('.chart-legend-peo').text(education[i].value)
                                .end()
                                .children('.chart-legend-scale').text(education[i].persent);
                            }
                            option3.series[0].data = educationSeriesData;
                            myChart3.setOption(option3, 'light');

                            //技能等级
                            var qualificationLevel = data.resultValue.qualificationLevel;
                            var qualificationLevelxAxisData = [];
                            var qualificationLevelSeriesData = [];
                            for (var i = 0; i < qualificationLevel.length; i++) {
                                if (qualificationLevel[i].name=='其他') {
                                    qualificationLevel[i].name = '无'
                                }
                                qualificationLevelxAxisData.push(qualificationLevel[i].name);
                                qualificationLevelSeriesData.push(qualificationLevel[i].value)
                            }
                            option4.xAxis[0].data = qualificationLevelxAxisData;
                            option4.series[0].data = qualificationLevelSeriesData;
                            myChart4.setOption(option4, 'light');

                            //在岗年限
                            var beginWorkDate = data.resultValue.beginWorkDate.slice(0,6);
                            beginWorkDate.forEach((el,i)=>{
                                if (el.key == '其他') {
                                    beginWorkDate.splice(i,1)
                                }
                            })
                            var beginWorkDateSeriesData = [];
                            for(var i = 0;i<5;i++){
                                $('.serving-legend .chart-legend-item').eq(i).hide();
                            }
                            $('.serving-legend').css({
                                top : beginWorkDate.length==5?'50px':beginWorkDate.length==4?'72px':beginWorkDate.length==3?'88px':beginWorkDate.length==2?'106px':beginWorkDate.length==1?'120px':'72px'
                            })
                            for (var i = 0; i < beginWorkDate.length; i++) {
                                beginWorkDateSeriesData.push({
                                    value:beginWorkDate[i].value,
                                    name:beginWorkDate[i].key
                                })
                                $('.serving-legend .chart-legend-item').eq(i).show()
                                .children('.chart-legend-icon').css({
                                    border:'3px solid '+ option7.color[i]
                                })
                                .end()
                                .children('.chart-legend-title').text(beginWorkDate[i].key)
                                .end()
                                .children('.chart-legend-peo').text(beginWorkDate[i].value)
                                .end()
                                .children('.chart-legend-scale').text(beginWorkDate[i].persent);
                            }
                            option7.series[1].data = beginWorkDateSeriesData;
                            myChart7.setOption(option7, 'light');

                            //性别分布
                            var gradeData = data.resultValue.grade;
                            for (var i = 0; i < gradeData.length; i++) {
                                if (gradeData[i].key==1) {
                                    option5.series[0].data = [gradeData[i].value];
                                    $('.grade-male-num').text(gradeData[i].value +'人');
                                    $('.grade-male-scale').text(gradeData[i].persent +'%');
                                }else{
                                    option5.series[1].data = [gradeData[i].value];
                                    $('.grade-female-num').text(gradeData[i].value +'人');
                                    $('.grade-female-scale').text(gradeData[i].persent +'%');
                                }
                            }
                            myChart5.setOption(option5, true);

                            //年龄分布
                            var ageData = data.resultValue.age.slice(0,5);
                            var ageSeriesData = [];
                            for(var i = 0;i<5;i++){
                                $('.age-legend .chart-legend-item').eq(i).hide();
                            }
                            $('.age-legend').css({
                                top : ageData.length==5?'60px':ageData.length==4?'60px':ageData.length==3?'88px':ageData.length==2?'106px':ageData.length==1?'120px':'72px'
                            })
                            for (var i = 0; i < ageData.length; i++) {
                                ageSeriesData.push({
                                    value:ageData[i].value,
                                    name:ageData[i].key
                                })
                                $('.age-legend .chart-legend-item').eq(i).show()
                                .children('.chart-legend-icon').css({
                                    border:'3px solid '+ option8.color[i]
                                })
                                .end()
                                .children('.chart-legend-title').text(ageData[i].key)
                                .end()
                                .children('.chart-legend-peo').text(ageData[i].value)
                                .end()
                                .children('.chart-legend-scale').text(ageData[i].persent);
                            }
                            option8.series[0].data = ageSeriesData;
                            myChart8.setOption(option8, 'light');

                            //职称分布
                            var skillIdentGradeData = data.resultValue.skillIdentGrade.slice(0,5);
                            var skillRadarIndicator = [];
                            var skillSeriesData = [];
                            for (var i = 0; i < skillIdentGradeData.length; i++) {
                                if (skillIdentGradeData[i].name == '其他') {
                                    skillIdentGradeData[i].name = '无'
                                }
                                skillRadarIndicator.push({
                                    name : skillIdentGradeData[i].name,
                                    max : 100
                                })
                                skillSeriesData.push(skillIdentGradeData[i].value)
                            }
                            option6.radar.indicator = skillRadarIndicator;
                            option6.series[0].data[0].value = skillSeriesData;
                            myChart6.setOption(option6, true);
                        }
                    }
                })
            }
            function userLinkList(){ //常用联系人
                $.ajax({
                    type:'get',
                    url:BASE_URL+'/index/getFrequentContacts',
                    data:{},
                    success:function(data){
                        if (data.resultCode == 200) {
                            $('.user-link-box').text('');
                            for (var i = 0; i < data.resultValue.length; i++) {
                                $('.user-link-box').append('<div class="user_lable"><span>'+data.resultValue[i].applyName+'</span> <img class="link-people-del" src="assets/home/icon_close_g.png"></div>')
                            }
                            $('.user_lable').click(function(){
                                $('.mail-list .book_search').val($(this).text().trim()).focus();
                                mailList($(this).text().trim());
                            }).css({
                                    cursor:'pointer'
                            })
                            $('.link-people-del').click(function(){
                                $(this).parent().remove()
                            })
                        }
                    }
                })
            }
        });
        function mailList(name){ //通讯录
            $.ajax({
                type:'get',
                url:BASE_URL+'/index/phoneList',
                data:{
                    token:'',
                    param:name,
                    contactType:'0020'
                },
                success:function(data){
                    if (data.resultCode == 200) {
                        $('.search-result').text('');
                        var mailListResult = data.resultValue;
                        var node1,node2,node3,node4,node5,node6;
                        if (mailListResult.length == 0) {
                            $('.search-result').append($('<ul style="text-align: center;font-size: 14px;">无结果</ul>'));
                            $('.search-result').slideDown(200);
                            return
                        }
                        for (var i = 0; i < mailListResult.length; i++) {
                            node1 = '<li class="applyName">'+mailListResult[i].applyName+'</li>';
                            // node2 = '<li class="empId">'+mailListResult[i].empId+'</li>';
                            node3 = '<li class="belongUnit" title="'+mailListResult[i].belongUnit+'">'+mailListResult[i].belongUnit+'</li>';
                            node4 = '<li class="belongDept" title="'+mailListResult[i].belongDept+'">'+mailListResult[i].belongDept+'</li>';
                            node5 = '<li class="contactType">('+mailListResult[i].contactType+')</li>';
                            node6 = '<li class="contactCode">'+mailListResult[i].contactCode+'</li>';
                            $('.search-result').append($('<ul>'+node1+node2+node3+node4+node5+node6+'</ul>'))
                        }
                        $('.search-result').slideDown(200);
                    }
                }
            })
        }
        function funQuery(){ //常用功能查询
            $.ajax({
                type:'get',
                url:BASE_URL+'/index/commonUseFunction',
                data:{
                    token:''
                },
                success:function(data){
                    // console.log(data,'常用功能查询')
                    if (data.resultCode==200) {

                        var funList = data.resultValue;
                        $('.xie-tong .fnc_card').hide();
                        for (var i = 0; i < funList.length; i++) {
                            // console.log($('.xie-tong .fnc_card'))
                            $('.xie-tong .fnc_card').eq(i).show();
                            $('.xie-tong .fnc_box').find('.fnc_card_icon').eq(i).attr('src',funList[i].icoClassName);
                            $('.xie-tong .fnc_box').find('.fnc_name').eq(i).text(funList[i].resourceAlias);
                        }
                    }
                }
            })
        }
    </Script>